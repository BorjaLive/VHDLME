Entity Rellenador
Architecture Rellenador_Arquitectura

Define estado estada			//En el limpiado de lineas se debe buscar esta sentencia y hacerle caso luego en el limpiado
TypeDef Binary[1,0] estados	//Esta linea debe parsearse a un nuevo tipo de instruccion

Binary CK, RS, n1, n2, n3, n4, A, B, C
Const estados reposo = "00"
Const estados llenado_A = "01"
Const estados llenado_B = "10"
Const estados llenado_C = "11"
estados estado

//Sleep 10ns	//El Sleep es un wait for , estos dos son tipos de instrucciones nuevas
Wait CK = '1'	//Wait es un wait until 	| Si aparece un Wait, el process no tiene parametros
If ES = '1' then estado = reposo
else if estado=reposo and n1='0' then estado = llenado_A
else if estado=llenado_A and n2='1' then estado = llenado_A
else if estado=llenado_B and n3='1' then estado = llenado_A
else if estado=llenado_C and n4='1' then estado = reposo


A = estado=llenado_A?'1':'0'		//Esto es un nuevo tipo de Set If Else
B = estado=llenado_B?'1':'0'
C = estado=llenado_C?'1':'0'

/*
Set A
	'1' if estado=llenado_A
	else '0'
Set B
	'1' if estado=llenado_B
	else '0'
Set C
	'1' if estado=llenado_C
	else '0'
*/
//VME no esta pensado para el uso de bioestables.